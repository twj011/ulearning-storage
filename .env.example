# =============================================
# Cloudflare 绑定配置说明
# =============================================
#
# 本项目使用 Cloudflare Workers 绑定，无需 .env 文件
# 所有配置通过 wrangler.toml 和 Cloudflare Dashboard 管理
#
# =============================================

# ==================== 必需绑定 ====================

# D1 数据库（必需）
# 用途：存储文件元数据
# 绑定名称：DB（默认，不要修改）
# 配置位置：wrangler.toml
# 创建方式：npm run setup 或 wrangler d1 create storage_db
[[d1_databases]]
binding = "DB"
database_name = "storage_db"
database_id = "your-database-id"

# ==================== 可选绑定 ====================

# KV 命名空间（可选）
# 用途：会话管理、缓存
# 绑定名称：KV（默认，不要修改）
# 配置位置：wrangler.toml
# 创建方式：npm run setup 或 wrangler kv namespace create KV
[[kv_namespaces]]
binding = "KV"
id = "your-kv-id"
preview_id = "your-kv-preview-id"

# ==================== 环境变量 ====================

# 默认课程 ID（必需）
# 用途：上传文件时自动发布到指定课程
DEFAULT_COURSE_ID=153836

# 网站访问认证（可选）
# 用途：保护网站访问，需要用户名和密码才能访问
# 默认值：ADMIN_NAME=ADMIN, ADMIN_PASSWORD=123456
ADMIN_NAME=ADMIN
ADMIN_PASSWORD=123456

# 优学院账号（可选，用于自动登录）
# 用途：自动获取和刷新 token，无需手动传递 Authorization header
# 注意：建议在 Cloudflare Dashboard 使用"加密"选项保护密码
ULEARNING_USERNAME=your_username
ULEARNING_PASSWORD=your_password

# API base url (normally do not change)
API_BASE_URL=https://courseapi.ulearning.cn

# Upload timeout in seconds
UPLOAD_TIMEOUT=300
